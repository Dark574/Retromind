<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:Retromind.ViewModels"
             xmlns:ext="clr-namespace:Retromind.Extensions;assembly=Retromind"
             x:DataType="vm:BigModeViewModel"
             Background="#111319"

             ext:ThemeProperties.Name="System Host"
             ext:ThemeProperties.Author="Retromind"
             ext:ThemeProperties.Version="0.1.0">
             <!-- ext:ThemeProperties.PrimaryVideoEnabled="True"
             ext:ThemeProperties.VideoSlotName="SystemPrimaryVideoSlot"> -->

    <Grid ColumnDefinitions="0.20*,0.80*"
          Margin="40,30">

        <!-- LEFT COLUMN: match Default theme styling -->
        <Border Grid.Column="0"
                Background="#20232A"
                CornerRadius="8"
                Padding="28,32,24,28">
            <Grid RowDefinitions="Auto,*">
                <!-- Category / context label -->
                <TextBlock Grid.Row="0"
                           Text="{Binding CategoryTitle}"
                           FontSize="18"
                           FontWeight="SemiBold"
                           Foreground="#7BA3FF"
                           Margin="0,0,0,12"
                           TextTrimming="CharacterEllipsis" />

                <!-- System list -->
                <ListBox Grid.Row="1"
                         ItemsSource="{Binding CurrentCategories}"
                         SelectedItem="{Binding SelectedCategory}"
                         Background="Transparent"
                         BorderThickness="0"
                         Padding="0"
                         ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Name}"
                                       FontSize="16"
                                       Margin="0,3"
                                       Foreground="White"
                                       TextTrimming="CharacterEllipsis" />
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </Grid>
        </Border>

        <!-- RIGHT: host layout + primary system preview -->
        <Border Grid.Column="1"
                Background="#181A20"
                Margin="28,0,0,0"
                CornerRadius="8"
                Padding="16">
            <Grid>
                <!-- System-specific sublayout (Default/C64/...) -->
                <ContentControl x:Name="SystemLayoutHost"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch" />

                <!-- Primary system preview (shared primary video channel).
                     BigModeHostView will attach _primaryVideoControl here.
                     Size/position matches the monitor in Default System Layout. -->
                <!-- <Border x:Name="SystemPrimaryVideoSlot"
                        Width="640"
                        Height="360"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Background="#181818"
                        CornerRadius="8">
                    <Grid>
                        <TextBlock Text="System preview video"
                                   Foreground="#505050"
                                   FontSize="18"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center" />
                    </Grid>
                </Border>-->
            </Grid>
        </Border>
    </Grid>
</UserControl>
